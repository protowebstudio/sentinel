---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import HeroMonitoring from '../components/monitoring/HeroMonitoring.astro';
import MonitoringStatus from '../components/monitoring/MonitoringStatus.astro';
import ArchitectureOverview from '../components/monitoring/ArchitectureOverview.astro';
import SecurityControls from '../components/monitoring/SecurityControls.astro';
import { sendTelemetry } from '../lib/system/telemetry';
---

<BaseLayout title="Sentinel">
  <Header />

  <main id="main-content">
    <HeroMonitoring
      title="Sentinel â€” Live Monitored Production Surface"
      subtitle="This site is actively monitored by the Operational Security & Observability Hub. All traffic is ingested and scored in real time."
      environment="production"
      dashboardUrl="https://protowebstudio.com/dashboard"
    />

    <MonitoringStatus
      riskScore={60}
      riskLevel="high"
      windowSize={60}
      lastEventAt="Just now"
      status="active"
    />

    <ArchitectureOverview />

    <SecurityControls />
  </main>

  <Footer />

  <script>
    window.addEventListener("load", () => {
      sendTelemetry();
    });
  </script>
</BaseLayout>